{"version":3,"file":"configuracao-pontuacao.js","sourceRoot":"","sources":["../../src/analistas/configuracao-pontuacao.ts"],"names":[],"mappings":"AAAA,+BAA+B;AAC/B;;;GAGG;AAqCH,mDAAmD;AACnD,MAAM,CAAC,MAAM,mBAAmB,GAA0B;IACxD,kBAAkB;IAClB,2BAA2B,EAAE,EAAE;IAC/B,aAAa,EAAE,CAAC;IAChB,aAAa,EAAE,EAAE;IACjB,gBAAgB,EAAE,EAAE;IACpB,YAAY,EAAE,CAAC;IACf,oBAAoB,EAAE,EAAE;IAExB,gCAAgC;IAChC,wBAAwB,EAAE,CAAC,EAAE,iCAAiC;IAC9D,sBAAsB,EAAE,CAAC,EAAE,mCAAmC;IAC9D,oBAAoB,EAAE,CAAC,EAAE,iCAAiC;IAE1D,wBAAwB;IACxB,0BAA0B,EAAE,EAAE,EAAE,gCAAgC;IAChE,6BAA6B,EAAE,EAAE,EAAE,sCAAsC;IACzE,sBAAsB,EAAE,GAAG,EAAE,sCAAsC;IAEnE,sBAAsB;IACtB,qBAAqB,EAAE,EAAE;IACzB,+BAA+B,EAAE,GAAG;IACpC,2BAA2B,EAAE,IAAI;IAEjC,sBAAsB;IACtB,+BAA+B,EAAE,CAAC,CAAC;IACnC,gCAAgC,EAAE,EAAE;IACpC,sBAAsB,EAAE,GAAG;IAC3B,uBAAuB,EAAE,EAAE;IAE3B,wBAAwB;IACxB,yBAAyB,EAAE,EAAE;IAC7B,wBAAwB,EAAE,GAAG;CAC9B,CAAC;AAEF,4CAA4C;AAC5C,MAAM,CAAC,MAAM,yBAAyB,GAA0B;IAC9D,GAAG,mBAAmB;IACtB,0BAA0B,EAAE,EAAE;IAC9B,6BAA6B,EAAE,EAAE;IACjC,2BAA2B,EAAE,EAAE;IAC/B,qBAAqB,EAAE,EAAE;CAC1B,CAAC;AAEF,2CAA2C;AAC3C,MAAM,CAAC,MAAM,uBAAuB,GAA0B;IAC5D,GAAG,mBAAmB;IACtB,0BAA0B,EAAE,EAAE;IAC9B,6BAA6B,EAAE,EAAE;IACjC,2BAA2B,EAAE,EAAE;IAC/B,qBAAqB,EAAE,EAAE;CAC1B,CAAC;AAEF,kEAAkE;AAClE,MAAM,UAAU,sBAAsB;IACpC,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,sBAAsB,IAAI,QAAQ,CAAC;IAE5D,QAAQ,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC;QAC3B,KAAK,aAAa,CAAC;QACnB,KAAK,QAAQ;YACX,OAAO,yBAAyB,CAAC;QACnC,KAAK,YAAY,CAAC;QAClB,KAAK,SAAS;YACZ,OAAO,uBAAuB,CAAC;QACjC;YACE,OAAO,mBAAmB,CAAC;IAC/B,CAAC;AACH,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\r\n/**\r\n * Configuração centralizada do sistema de pontuação de arquétipos\r\n * Valores ajustáveis para otimizar detecção e resiliência\r\n */\r\n\r\nexport interface ConfiguracaoPontuacao {\r\n  // Constantes base (podem ser ajustadas conforme feedback)\r\n  PENALIDADE_MISSING_REQUIRED: number;\r\n  PESO_OPTIONAL: number;\r\n  PESO_REQUIRED: number;\r\n  PESO_DEPENDENCIA: number;\r\n  PESO_PATTERN: number;\r\n  PENALIDADE_FORBIDDEN: number;\r\n\r\n  // Fatores adaptativos\r\n  FATOR_ESCALA_TAMANHO_MAX: number;\r\n  FATOR_COMPLEXIDADE_MAX: number;\r\n  FATOR_MATURIDADE_MAX: number;\r\n\r\n  // Thresholds de decisão\r\n  THRESHOLD_CONFIANCA_MINIMA: number;\r\n  THRESHOLD_DIFERENCA_DOMINANTE: number;\r\n  THRESHOLD_HIBRIDO_REAL: number;\r\n\r\n  // Bônus e penalidades contextuais\r\n  BONUS_COMPLETUDE_BASE: number;\r\n  BONUS_ESPECIFICIDADE_MULTIPLIER: number;\r\n  PENALIDADE_GENERICO_EXTREMA: number;\r\n\r\n  // Ajustes baseados no tamanho do projeto\r\n  AJUSTE_CONFIANCA_PROJETO_GRANDE: number;\r\n  AJUSTE_CONFIANCA_PROJETO_PEQUENO: number;\r\n  LIMITE_ARQUIVOS_GRANDE: number;\r\n  LIMITE_ARQUIVOS_PEQUENO: number;\r\n\r\n  // Sistema de maturidade\r\n  LIMITE_FUNCOES_MATURIDADE: number;\r\n  MULTIPLICADOR_MATURIDADE: number;\r\n}\r\n\r\n// Configuração padrão - otimizada para resiliência\r\nexport const CONFIGURACAO_PADRAO: ConfiguracaoPontuacao = {\r\n  // Constantes base\r\n  PENALIDADE_MISSING_REQUIRED: 20,\r\n  PESO_OPTIONAL: 5,\r\n  PESO_REQUIRED: 10,\r\n  PESO_DEPENDENCIA: 10,\r\n  PESO_PATTERN: 5,\r\n  PENALIDADE_FORBIDDEN: 20,\r\n\r\n  // Fatores adaptativos (máximos)\r\n  FATOR_ESCALA_TAMANHO_MAX: 5, // 5x para projetos muito grandes\r\n  FATOR_COMPLEXIDADE_MAX: 3, // 3x para projetos muito complexos\r\n  FATOR_MATURIDADE_MAX: 3, // 3x para projetos muito maduros\r\n\r\n  // Thresholds de decisão\r\n  THRESHOLD_CONFIANCA_MINIMA: 30, // Mínimo para considerar válido\r\n  THRESHOLD_DIFERENCA_DOMINANTE: 15, // Diferença para considerar dominante\r\n  THRESHOLD_HIBRIDO_REAL: 0.3, // Fração de sobreposição para híbrido\r\n\r\n  // Bônus e penalidades\r\n  BONUS_COMPLETUDE_BASE: 50,\r\n  BONUS_ESPECIFICIDADE_MULTIPLIER: 1.5,\r\n  PENALIDADE_GENERICO_EXTREMA: 1000,\r\n\r\n  // Ajustes por tamanho\r\n  AJUSTE_CONFIANCA_PROJETO_GRANDE: -5,\r\n  AJUSTE_CONFIANCA_PROJETO_PEQUENO: 10,\r\n  LIMITE_ARQUIVOS_GRANDE: 500,\r\n  LIMITE_ARQUIVOS_PEQUENO: 20,\r\n\r\n  // Sistema de maturidade\r\n  LIMITE_FUNCOES_MATURIDADE: 50,\r\n  MULTIPLICADOR_MATURIDADE: 1.2,\r\n};\r\n\r\n// Configuração conservadora - mais rigorosa\r\nexport const CONFIGURACAO_CONSERVADORA: ConfiguracaoPontuacao = {\r\n  ...CONFIGURACAO_PADRAO,\r\n  THRESHOLD_CONFIANCA_MINIMA: 40,\r\n  THRESHOLD_DIFERENCA_DOMINANTE: 20,\r\n  PENALIDADE_MISSING_REQUIRED: 25,\r\n  BONUS_COMPLETUDE_BASE: 40,\r\n};\r\n\r\n// Configuração permissiva - mais tolerante\r\nexport const CONFIGURACAO_PERMISSIVA: ConfiguracaoPontuacao = {\r\n  ...CONFIGURACAO_PADRAO,\r\n  THRESHOLD_CONFIANCA_MINIMA: 20,\r\n  THRESHOLD_DIFERENCA_DOMINANTE: 10,\r\n  PENALIDADE_MISSING_REQUIRED: 15,\r\n  BONUS_COMPLETUDE_BASE: 60,\r\n};\r\n\r\n// Configuração atual (pode ser alterada via variável de ambiente)\r\nexport function obterConfiguracaoAtual(): ConfiguracaoPontuacao {\r\n  const modo = process.env.ORACULO_MODO_PONTUACAO || 'padrao';\r\n\r\n  switch (modo.toLowerCase()) {\r\n    case 'conservador':\r\n    case 'strict':\r\n      return CONFIGURACAO_CONSERVADORA;\r\n    case 'permissivo':\r\n    case 'lenient':\r\n      return CONFIGURACAO_PERMISSIVA;\r\n    default:\r\n      return CONFIGURACAO_PADRAO;\r\n  }\r\n}\r\n"]}