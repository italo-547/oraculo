{"version":3,"file":"arquetipos-defs.js","sourceRoot":"","sources":["../../src/analistas/arquetipos-defs.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\r\nimport type { ArquetipoEstruturaDef } from '@tipos/tipos.js';\r\n\r\nexport const ARQUETIPOS: ArquetipoEstruturaDef[] = [\r\n  {\r\n    nome: 'cli-modular',\r\n    descricao: 'CLI modular em TypeScript com entrada em src/cli.ts ou cli.ts na raiz',\r\n    requiredDirs: ['src/cli'],\r\n    optionalDirs: ['src/cli/commands', 'src/utils', 'src/lib'],\r\n    filePresencePatterns: ['cli.ts', 'bin/cli'],\r\n    dependencyHints: ['commander', 'yargs', 'chalk'],\r\n    rootFilesAllowed: [\r\n      'package.json',\r\n      'tsconfig.json',\r\n      'README.md',\r\n      '.gitignore',\r\n      '.prettierrc',\r\n      'eslint.config.js',\r\n      '.lintstagedrc.cjs',\r\n      '.lintstagedrc.mjs',\r\n      'LICENSE',\r\n      'CHANGELOG.md',\r\n    ],\r\n    // Evita colisão desnecessária com monorepo; penaliza apenas sinais de frontend típicos\r\n    forbiddenDirs: ['pages', 'prisma', 'public'],\r\n    pesoBase: 1.1, // Aumentado para dar mais peso a CLIs estruturadas\r\n  },\r\n  {\r\n    nome: 'landing-page',\r\n    descricao: 'Aplicação web simples (frontend) com pages/ e components/',\r\n    requiredDirs: ['pages', 'components'],\r\n    optionalDirs: ['public', 'styles', 'utils'],\r\n    forbiddenDirs: ['prisma', 'api', 'server'],\r\n    rootFilesAllowed: [\r\n      'package.json',\r\n      'tsconfig.json',\r\n      'README.md',\r\n      'next.config.js',\r\n      'tailwind.config.js',\r\n    ],\r\n    pesoBase: 1.0, // Mantido neutro\r\n  },\r\n  {\r\n    nome: 'api-rest-express',\r\n    descricao: 'API REST em Express com controllers/ e estrutura backend',\r\n    requiredDirs: ['src', 'src/controllers'],\r\n    optionalDirs: ['src/routes', 'src/middlewares', 'src/models', 'src/services'],\r\n    dependencyHints: ['express', 'cors', 'helmet', 'joi', 'joi-to-swagger'],\r\n    forbiddenDirs: ['pages', 'components', 'public'],\r\n    rootFilesAllowed: ['package.json', 'tsconfig.json', '.env.example', 'README.md', 'server.js'],\r\n    pesoBase: 1.3, // Aumentado pois é um padrão muito específico e maduro\r\n  },\r\n  {\r\n    nome: 'fullstack',\r\n    descricao: 'Aplicação fullstack (Next.js) com pages/, api/ e prisma/',\r\n    requiredDirs: ['pages', 'api', 'prisma'],\r\n    optionalDirs: ['components', 'lib', 'styles', 'utils', 'types'],\r\n    // Em projetos fullstack, normalmente não coexistem workspaces/packages na raiz\r\n    // pois indicam estrutura de monorepo; penalizamos quando presente.\r\n    forbiddenDirs: ['packages', 'apps', 'server'],\r\n    dependencyHints: ['next', 'react', 'prisma'],\r\n    rootFilesAllowed: ['package.json', 'tsconfig.json', 'next.config.js', 'tailwind.config.js'],\r\n    pesoBase: 1.4, // Aumentado pois combina frontend + backend + banco\r\n  },\r\n  {\r\n    nome: 'bot',\r\n    descricao: 'Bot (Discord/Telegram) com estrutura simples e handlers',\r\n    requiredDirs: ['src/bot'],\r\n    optionalDirs: ['src/commands', 'src/events', 'src/utils'],\r\n    filePresencePatterns: ['bot.ts', 'bot.js', 'index.ts'],\r\n    dependencyHints: ['telegraf', 'discord.js', 'grammy'],\r\n    rootFilesAllowed: ['package.json', 'tsconfig.json', 'README.md', '.env.example'],\r\n    // Estruturas típicas de frontend/monorepo não são esperadas em bots\r\n    forbiddenDirs: ['pages', 'prisma', 'packages', 'electron-app', 'public'],\r\n    pesoBase: 0.9, // Mantido baixo pois é mais simples\r\n  },\r\n  {\r\n    nome: 'electron',\r\n    descricao: 'Aplicação Electron com main process e renderer',\r\n    requiredDirs: ['src', 'src/main'],\r\n    optionalDirs: ['src/renderer', 'src/preload', 'public'],\r\n    filePresencePatterns: ['electron.js', 'electron.ts', 'main.js'],\r\n    dependencyHints: ['electron', 'electron-builder'],\r\n    rootFilesAllowed: ['package.json', 'tsconfig.json', 'README.md', 'electron-builder.json'],\r\n    // Electron não deve coexistir com pastas típicas de web fullstack/monorepo\r\n    forbiddenDirs: ['pages', 'prisma', 'packages', 'api'],\r\n    pesoBase: 1.2, // Aumentado pois tem estrutura específica\r\n  },\r\n  {\r\n    nome: 'lib-tsc',\r\n    descricao: 'Biblioteca TypeScript compilada com estrutura organizada',\r\n    requiredDirs: ['src', 'src/index.ts'],\r\n    optionalDirs: ['src/lib', 'src/utils', 'src/types', 'examples'],\r\n    filePresencePatterns: ['index.ts', 'lib/index.ts'],\r\n    dependencyHints: [], // Bibliotecas geralmente têm poucas deps de runtime\r\n    rootFilesAllowed: [\r\n      'package.json',\r\n      'tsconfig.json',\r\n      'README.md',\r\n      'LICENSE',\r\n      'rollup.config.js',\r\n      'webpack.config.js',\r\n    ],\r\n    forbiddenDirs: ['pages', 'api', 'prisma', 'public', 'server'],\r\n    pesoBase: 1.0, // Mantido neutro\r\n  },\r\n  {\r\n    nome: 'monorepo-packages',\r\n    descricao: 'Monorepo com packages/ e workspaces (pnpm/npm/yarn)',\r\n    requiredDirs: ['packages'],\r\n    optionalDirs: ['apps', 'tools', 'packages/shared', 'packages/core'],\r\n    dependencyHints: [],\r\n    rootFilesAllowed: [\r\n      'package.json',\r\n      'tsconfig.json',\r\n      'turbo.json',\r\n      'pnpm-workspace.yaml',\r\n      'yarn.lock',\r\n      'pnpm-lock.yaml',\r\n    ],\r\n    // Penaliza estrutura de código na raiz em monorepos (esperado ficar em apps/ ou packages/)\r\n    forbiddenDirs: ['src', 'pages', 'api', 'prisma', 'lib'],\r\n    pesoBase: 1.5, // Aumentado pois é uma arquitetura mais complexa\r\n  },\r\n];\r\n\r\nexport function normalizarCaminho(p: string): string {\r\n  return p.replace(/\\\\/g, '/');\r\n}\r\n"]}