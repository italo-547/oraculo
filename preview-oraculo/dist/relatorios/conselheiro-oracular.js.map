{"version":3,"file":"conselheiro-oracular.js","sourceRoot":"","sources":["../../src/relatorios/conselheiro-oracular.ts"],"names":[],"mappings":"AAAA,+BAA+B;AAC/B,OAAO,EAAE,GAAG,EAAE,MAAM,8BAA8B,CAAC;AAUnD,MAAM,UAAU,sBAAsB,CAAC,QAA0B;IAC/D,MAAM,EACJ,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,EAC5B,oBAAoB,GAAG,CAAC,EACxB,iBAAiB,GAAG,CAAC,GACtB,GAAG,QAAQ,CAAC;IAEb,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,IAAI,IAAI,GAAG,CAAC,CAAC;IACzC,MAAM,cAAc,GAAG,oBAAoB,GAAG,EAAE,IAAI,iBAAiB,GAAG,EAAE,CAAC;IAE3E,IAAI,CAAC,SAAS,IAAI,CAAC,cAAc;QAAE,OAAO;IAE1C,uDAAuD;IACvD,GAAG,CAAC,KAAK,CAAC,iDAAiD,CAAC,CAAC;IAC7D,IAAI,SAAS,EAAE,CAAC;QACd,8DAA8D;QAC9D,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC;QAC1D,GAAG,CAAC,KAAK,CAAC,kBAAkB,OAAO,+CAA+C,CAAC,CAAC;IACtF,CAAC;IACD,IAAI,cAAc,EAAE,CAAC;QACnB,8DAA8D;QAC9D,GAAG,CAAC,KAAK,CAAC,6DAA6D,CAAC,CAAC;IAC3E,CAAC;IACD,GAAG,CAAC,KAAK,CAAC,iFAAiF,CAAC,CAAC;AAC/F,CAAC","sourcesContent":["// SPDX-License-Identifier: MIT\r\nimport { log } from '../nucleo/constelacao/log.js';\r\n\r\nexport interface ConselhoContexto {\r\n  hora?: number;\r\n  arquivosParaCorrigir?: number;\r\n  arquivosParaPodar?: number;\r\n  totalOcorrenciasAnaliticas?: number;\r\n  integridadeGuardian?: string;\r\n}\r\n\r\nexport function emitirConselhoOracular(estresse: ConselhoContexto): void {\r\n  const {\r\n    hora = new Date().getHours(),\r\n    arquivosParaCorrigir = 0,\r\n    arquivosParaPodar = 0,\r\n  } = estresse;\r\n\r\n  const madrugada = hora >= 22 || hora < 5;\r\n  const muitosArquivos = arquivosParaCorrigir > 50 || arquivosParaPodar > 50;\r\n\r\n  if (!madrugada && !muitosArquivos) return;\r\n\r\n  // Primeira linha com frase-chave esperada pelos testes\r\n  log.aviso(`\\n🌘 Ei, rapidinho: respira só por um instante.`);\r\n  if (madrugada) {\r\n    // Mensagem deve conter a expressão \"passa das 2h\" para testes\r\n    const horaRef = hora >= 2 && hora < 3 ? '2h' : `${hora}h`;\r\n    log.aviso(`⏰ Já passa das ${horaRef}. Código compila amanhã; você descansa agora.`);\r\n  }\r\n  if (muitosArquivos) {\r\n    // Deve conter \"volume de tarefas\" (minúsculas) para os testes\r\n    log.aviso(`🗂️ volume de tarefas alto? O código não foge; burnout sim.`);\r\n  }\r\n  log.aviso(`💙 Se cuida: toma uma água, alonga, fecha os olhos 5 min. Continuamos depois.\\n`);\r\n}\r\n"]}