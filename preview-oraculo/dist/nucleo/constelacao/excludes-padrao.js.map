{"version":3,"file":"excludes-padrao.js","sourceRoot":"","sources":["../../../src/nucleo/constelacao/excludes-padrao.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\r\n/**\r\n * Configuração centralizada dos padrões de exclusão do Oráculo\r\n *\r\n * Esta configuração define os padrões padrão de exclusão usados pelo sistema\r\n * de análise quando nenhum outro filtro é especificado.\r\n *\r\n * Precedência de configuração:\r\n * 1. Flags --include/--exclude (mais alta prioridade)\r\n * 2. oraculo.config.json (configuração do projeto)\r\n * 3. Este arquivo (padrões do sistema)\r\n * 4. Fallback hardcoded (mais baixa prioridade)\r\n */\r\n\r\nexport interface ConfigExcludesPadrao {\r\n  /** Padrões de exclusão padrão do sistema */\r\n  padroesSistema: string[];\r\n\r\n  /** Padrões recomendados para projetos Node.js */\r\n  nodeJs: string[];\r\n\r\n  /** Padrões recomendados para projetos TypeScript */\r\n  typeScript: string[];\r\n\r\n  /** Padrões recomendados para projetos Python */\r\n  python: string[];\r\n\r\n  /** Padrões recomendados para projetos Java */\r\n  java: string[];\r\n\r\n  /** Padrões recomendados para projetos .NET/C# */\r\n  dotnet: string[];\r\n\r\n  /** Padrões para ferramentas de desenvolvimento */\r\n  ferramentasDev: string[];\r\n\r\n  /** Padrões para sistemas de controle de versão */\r\n  controleVersao: string[];\r\n\r\n  /** Padrões para arquivos temporários e cache */\r\n  temporarios: string[];\r\n\r\n  /** Padrões para documentação e assets */\r\n  documentacao: string[];\r\n\r\n  /** Metadados da configuração */\r\n  metadata: {\r\n    versao: string;\r\n    ultimaAtualizacao: string;\r\n    descricao: string;\r\n  };\r\n}\r\n\r\n/**\r\n * Configuração padrão dos padrões de exclusão\r\n *\r\n * Estes são os padrões recomendados pelo Oráculo para diferentes tipos de projeto.\r\n * Eles podem ser sobrescritos pelo usuário via oraculo.config.json\r\n */\r\nexport const EXCLUDES_PADRAO: ConfigExcludesPadrao = {\r\n  padroesSistema: [\r\n    'node_modules',\r\n    '**/node_modules/**',\r\n    'dist/**',\r\n    '**/dist/**',\r\n    'build/**',\r\n    '**/build/**',\r\n    '**/*.log',\r\n    '**/*.lock',\r\n    'package-lock.json',\r\n    'yarn.lock',\r\n    'pnpm-lock.yaml',\r\n    '**/.git/**',\r\n    '.pnpm/**',\r\n    '**/.oraculo/**',\r\n    'preview-oraculo/**',\r\n    'tests/fixtures/**',\r\n  ],\r\n\r\n  nodeJs: [\r\n    'node_modules/**',\r\n    '**/node_modules/**',\r\n    'npm-debug.log*',\r\n    'yarn-debug.log*',\r\n    'yarn-error.log*',\r\n    '.npm',\r\n    '.yarn',\r\n    'coverage/**',\r\n    '**/coverage/**',\r\n    '.nyc_output',\r\n    'dist/**',\r\n    '**/dist/**',\r\n    'build/**',\r\n    '**/build/**',\r\n  ],\r\n\r\n  typeScript: [\r\n    'dist/**',\r\n    '**/dist/**',\r\n    'build/**',\r\n    '**/build/**',\r\n    '*.tsbuildinfo',\r\n    '**/*.tsbuildinfo',\r\n    '.tsbuildinfo',\r\n    'out/**',\r\n    '**/out/**',\r\n  ],\r\n\r\n  python: [\r\n    '__pycache__/**',\r\n    '**/__pycache__/**',\r\n    '*.pyc',\r\n    '**/*.pyc',\r\n    '*.pyo',\r\n    '**/*.pyo',\r\n    '*.pyd',\r\n    '**/*.pyd',\r\n    '.Python',\r\n    'env/**',\r\n    'venv/**',\r\n    '.env/**',\r\n    'pip-log.txt',\r\n    'pip-delete-this-directory.txt',\r\n    '.tox/**',\r\n    '.coverage',\r\n    'htmlcov/**',\r\n    '.pytest_cache/**',\r\n    '.mypy_cache/**',\r\n  ],\r\n\r\n  java: [\r\n    'target/**',\r\n    '**/target/**',\r\n    'build/**',\r\n    '**/build/**',\r\n    '*.class',\r\n    '**/*.class',\r\n    '*.jar',\r\n    '**/*.jar',\r\n    '*.war',\r\n    '**/*.war',\r\n    '*.ear',\r\n    '**/*.ear',\r\n    '.gradle/**',\r\n    'gradle-app.setting',\r\n    '!gradle-wrapper.jar',\r\n    '.idea/**',\r\n    '*.iml',\r\n    '**/*.iml',\r\n  ],\r\n\r\n  dotnet: [\r\n    'bin/**',\r\n    '**/bin/**',\r\n    'obj/**',\r\n    '**/obj/**',\r\n    '*.dll',\r\n    '**/*.dll',\r\n    '*.exe',\r\n    '**/*.exe',\r\n    '*.pdb',\r\n    '**/*.pdb',\r\n    '.vs/**',\r\n    '**/.vs/**',\r\n    '*.user',\r\n    '**/*.user',\r\n    '*.suo',\r\n    '**/*.suo',\r\n    '*.cache',\r\n    '**/*.cache',\r\n  ],\r\n\r\n  ferramentasDev: [\r\n    '.vscode/**',\r\n    '.idea/**',\r\n    '*.swp',\r\n    '**/*.swp',\r\n    '*.swo',\r\n    '**/*.swo',\r\n    '*~',\r\n    '**/*~',\r\n    '.DS_Store',\r\n    '**/.DS_Store',\r\n    'Thumbs.db',\r\n    '**/Thumbs.db',\r\n  ],\r\n\r\n  controleVersao: [\r\n    '.git/**',\r\n    '**/.git/**',\r\n    '.svn/**',\r\n    '**/.svn/**',\r\n    '.hg/**',\r\n    '**/.hg/**',\r\n    '.bzr/**',\r\n    '**/.bzr/**',\r\n  ],\r\n\r\n  temporarios: [\r\n    '*.tmp',\r\n    '**/*.tmp',\r\n    '*.temp',\r\n    '**/*.temp',\r\n    '*.bak',\r\n    '**/*.bak',\r\n    '.tmp/**',\r\n    '**/.tmp/**',\r\n    'tmp/**',\r\n    '**/tmp/**',\r\n    'temp/**',\r\n    '**/temp/**',\r\n  ],\r\n\r\n  documentacao: [\r\n    'docs/**',\r\n    '**/docs/**',\r\n    '*.md',\r\n    '**/*.md',\r\n    'README*',\r\n    '**/README*',\r\n    'CHANGELOG*',\r\n    '**/CHANGELOG*',\r\n    'LICENSE*',\r\n    '**/LICENSE*',\r\n  ],\r\n\r\n  metadata: {\r\n    versao: '1.0.0',\r\n    ultimaAtualizacao: '2025-08-29',\r\n    descricao: 'Configuração padrão dos padrões de exclusão do Oráculo',\r\n  },\r\n};\r\n\r\n/**\r\n * Função para obter os padrões de exclusão recomendados baseado no tipo de projeto\r\n *\r\n * @param tipoProjeto Tipo de projeto detectado ou 'generico' para padrões gerais\r\n * @returns Array de padrões de exclusão recomendados\r\n */\r\nexport function getExcludesRecomendados(tipoProjeto: string = 'generico'): string[] {\r\n  const base = [...EXCLUDES_PADRAO.padroesSistema];\r\n\r\n  switch (tipoProjeto.toLowerCase()) {\r\n    case 'nodejs':\r\n    case 'javascript':\r\n    case 'typescript':\r\n      return [...base, ...EXCLUDES_PADRAO.nodeJs, ...EXCLUDES_PADRAO.typeScript];\r\n\r\n    case 'python':\r\n      return [...base, ...EXCLUDES_PADRAO.python];\r\n\r\n    case 'java':\r\n    case 'kotlin':\r\n      return [...base, ...EXCLUDES_PADRAO.java];\r\n\r\n    case 'dotnet':\r\n    case 'csharp':\r\n    case 'c#':\r\n      return [...base, ...EXCLUDES_PADRAO.dotnet];\r\n\r\n    case 'generico':\r\n    default:\r\n      return [\r\n        ...base,\r\n        ...EXCLUDES_PADRAO.ferramentasDev,\r\n        ...EXCLUDES_PADRAO.controleVersao,\r\n        ...EXCLUDES_PADRAO.temporarios,\r\n      ];\r\n  }\r\n}\r\n\r\n/**\r\n * Função para validar se um padrão de exclusão é seguro\r\n *\r\n * @param padrao Padrão a ser validado\r\n * @returns true se o padrão é considerado seguro\r\n */\r\nexport function isPadraoExclusaoSeguro(padrao: string): boolean {\r\n  const padroesPerigosos = [\r\n    '**/*', // Exclui tudo\r\n    '*', // Exclui tudo no nível atual\r\n    '*/**/*', // Exclui tudo recursivamente\r\n    '**', // Exclui tudo\r\n    '', // Padrão vazio\r\n  ];\r\n\r\n  // Verifica se o padrão contém caracteres perigosos\r\n  if (padroesPerigosos.includes(padrao.trim())) {\r\n    return false;\r\n  }\r\n\r\n  // Verifica se o padrão é muito genérico (muitos asteriscos consecutivos)\r\n  if (padrao.includes('***') || padrao.includes('****')) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * Função para mesclar configurações de exclusão com precedência\r\n *\r\n * Precedência (do mais alto para o mais baixo):\r\n * 1. Configuração do usuário via oraculo.config.json\r\n * 2. Padrões recomendados baseados no tipo de projeto\r\n * 3. Padrões do sistema\r\n *\r\n * @param configUsuario Configuração do usuário (pode ser null/undefined)\r\n * @param tipoProjeto Tipo de projeto para padrões recomendados\r\n * @returns Array consolidado de padrões de exclusão\r\n */\r\nexport function mesclarConfigExcludes(\r\n  configUsuario: string[] | null | undefined,\r\n  tipoProjeto: string = 'generico',\r\n): string[] {\r\n  // Se o usuário definiu configuração própria, usa ela\r\n  if (configUsuario && Array.isArray(configUsuario) && configUsuario.length > 0) {\r\n    // Valida os padrões do usuário\r\n    const padroesValidos = configUsuario.filter(isPadraoExclusaoSeguro);\r\n\r\n    if (padroesValidos.length !== configUsuario.length) {\r\n      console.warn(\r\n        `⚠️ Alguns padrões de exclusão foram considerados inseguros e foram ignorados: ${configUsuario\r\n          .filter((p) => !isPadraoExclusaoSeguro(p))\r\n          .join(', ')}`,\r\n      );\r\n    }\r\n\r\n    return Array.from(new Set(padroesValidos));\r\n  }\r\n\r\n  // Caso contrário, usa os padrões recomendados\r\n  return getExcludesRecomendados(tipoProjeto);\r\n}\r\n"]}